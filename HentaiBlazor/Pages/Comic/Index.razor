@page "/comic/index"

@using HentaiBlazor.Data.Comic;

<PageContainer Title="漫画">

    <Button Type="primary" @onclick="RefreshCover">查询</Button>

    <Pagination Style="margin-bottom: 0.5rem;" Total="Total"
                PageSize="PageSize"
                PageIndex="PageIndex"
                OnPageIndexChange="HandlePageIndexChange"
                OnPageSizeChange="HandlePageSizeChange" />

    <AntList ItemLayout="ListItemLayout.Horizontal"
                Grid="gutter" DataSource="@_CBookEntities">
        <ListItem Grid="gutter">
            <Card Hoverable Style="width: 240px" Cover="@coverTemplate(@context.Cover)">
                
                <CardMeta Title="@context.Title" Description="@context.Author" />
            </Card>
        </ListItem>

    </AntList>

    <Pagination Total="Total"
                PageSize="PageSize"
                PageIndex="PageIndex"
                OnPageIndexChange="HandlePageIndexChange"
                OnPageSizeChange="HandlePageSizeChange" />

</PageContainer>

@code {


    public ListGridType gutter = new ListGridType { Gutter = 5, Column = 5 };

    private RenderFragment coverTemplate(string cover)
    {
        return @<img alt="example" src="@cover" />;
    }
}